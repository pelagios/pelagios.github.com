function popupchecker(msg){var testwindow=window.open("itestwin.html","","width=1,height=1,left=0,top=0,scrollbars=no");testwindow==null?alert(msg):testwindow.close()}function checkall(){var el=document.getElementsByTagName("input");for(var i=0;i<el.length;i++)el[i].type=="checkbox"&&(el[i].checked=!0)}function checknone(){var el=document.getElementsByTagName("input");for(var i=0;i<el.length;i++)el[i].type=="checkbox"&&(el[i].checked=!1)}function lockoptions(formid,master,subitems){var form=document.forms[formid];if(eval("form."+master+".checked"))for(i=0;i<subitems.length;i++)unlockoption(form,subitems[i]);else for(i=0;i<subitems.length;i++)lockoption(form,subitems[i]);return!0}function lockoption(form,item){eval("form."+item+".disabled=true"),form.elements["h"+item]&&eval("form.h"+item+".value=1")}function unlockoption(form,item){eval("form."+item+".disabled=false"),form.elements["h"+item]&&eval("form.h"+item+".value=0")}function get_form_element_value(form,name){var element=form[name];if(!element)return null;if(element.tagName)return element.value;for(var j=0;j<element.length;j++){var el=element[j];if(el.checked)return el.value}return null}function set_form_element_disabled(form,name,disabled){var element=form[name];if(!element)return;element.tagName&&(element.disabled=disabled);for(var j=0;j<element.length;j++){var el=element[j];el.disabled=disabled}}function set_form_element_hidden(form,name,hidden){var element=form[name];if(!element)return;if(element.tagName){var el=findParentNode(element,"DIV","fitem",!1);el!=null&&(el.style.display=hidden?"none":"",el.style.visibility=hidden?"hidden":"")}for(var j=0;j<element.length;j++){var el=findParentNode(element[j],"DIV","fitem",!1);el!=null&&(el.style.display=hidden?"none":"",el.style.visibility=hidden?"hidden":"")}}function lockoptionsall(formid){var form=document.forms[formid],dependons=eval(formid+"items"),tolock=[],tohide=[];for(var dependon in dependons){if(!dependons.propertyIsEnumerable(dependon))continue;if(!form[dependon])continue;for(var condition in dependons[dependon])for(var value in dependons[dependon][condition]){var lock,hide=!1;switch(condition){case"notchecked":lock=!form[dependon].checked;break;case"checked":lock=form[dependon].checked;break;case"noitemselected":lock=form[dependon].selectedIndex==-1;break;case"eq":lock=get_form_element_value(form,dependon)==value;break;case"hide":hide=!0;break;default:lock=get_form_element_value(form,dependon)!=value}for(var ei in dependons[dependon][condition][value]){var eltolock=dependons[dependon][condition][value][ei];hide&&(tohide[eltolock]=!0),tolock[eltolock]!=null?tolock[eltolock]=lock||tolock[eltolock]:tolock[eltolock]=lock}}}for(var el in tolock){if(!tolock.propertyIsEnumerable(el))continue;set_form_element_disabled(form,el,tolock[el]),tohide.propertyIsEnumerable(el)&&set_form_element_hidden(form,el,tolock[el])}return!0}function lockoptionsallsetup(formid){var form=document.forms[formid],dependons=eval(formid+"items");for(var dependon in dependons){if(!dependons.propertyIsEnumerable(dependon))continue;var masters=form[dependon];if(!masters)continue;masters.tagName&&(masters=[masters]);for(var j=0;j<masters.length;j++)master=masters[j],master.formid=formid,master.onclick=function(){return lockoptionsall(this.formid)},master.onblur=function(){return lockoptionsall(this.formid)},master.onchange=function(){return lockoptionsall(this.formid)}}for(var i=0;i<form.elements.length;i++){var formelement=form.elements[i];formelement.type=="reset"&&(formelement.formid=formid,formelement.onclick=function(){return this.form.reset(),lockoptionsall(this.formid)},formelement.onblur=function(){return this.form.reset(),lockoptionsall(this.formid)},formelement.onchange=function(){return this.form.reset(),lockoptionsall(this.formid)})}return lockoptionsall(formid)}function submitFormById(id){var theform=document.getElementById(id);if(!theform)return!1;if(theform.tagName.toLowerCase()!="form")return!1;if(!theform.onsubmit||theform.onsubmit())return theform.submit()}function select_all_in(elTagName,elClass,elId){var inputs=document.getElementsByTagName("input");inputs=filterByParent(inputs,function(el){return findParentNode(el,elTagName,elClass,elId)});for(var i=0;i<inputs.length;++i)if(inputs[i].type=="checkbox"||inputs[i].type=="radio")inputs[i].checked="checked"}function deselect_all_in(elTagName,elClass,elId){var inputs=document.getElementsByTagName("INPUT");inputs=filterByParent(inputs,function(el){return findParentNode(el,elTagName,elClass,elId)});for(var i=0;i<inputs.length;++i)if(inputs[i].type=="checkbox"||inputs[i].type=="radio")inputs[i].checked=""}function confirm_if(expr,message){return expr?confirm(message):!0}function findParentNode(el,elName,elClass,elId){while(el.nodeName.toUpperCase()!="BODY"){if(!(!!elName&&el.nodeName.toUpperCase()!=elName||!!elClass&&el.className.indexOf(elClass)==-1||!!elId&&el.id!=elId))break;el=el.parentNode}return el}function findChildNodes(start,tagName,elementClass,elementID,elementName){var children=new Array;for(var i=0;i<start.childNodes.length;i++){var classfound=!1,child=start.childNodes[i];if(child.nodeType==1&&elementClass&&typeof child.className=="string"){var childClasses=child.className.split(/\s+/);for(var childClassIndex in childClasses)if(childClasses[childClassIndex]==elementClass){classfound=!0;break}}child.nodeType==1&&(!!tagName&&child.nodeName!=tagName||!!elementClass&&!classfound||!!elementID&&child.id!=elementID||!!elementName&&child.name!=elementName?children=children.concat(findChildNodes(child,tagName,elementClass,elementID,elementName)):children=children.concat(child))}return children}function elementShowAdvanced(elements,show){for(var elementIndex in elements)element=elements[elementIndex],element.className=element.className.replace(new RegExp(" ?hide"),""),show||(element.className+=" hide")}function showAdvancedInit(addBefore,nameAttr,buttonLabel,hideText,showText){var showHideButton=document.createElement("input");showHideButton.type="button",showHideButton.value=buttonLabel,showHideButton.name=nameAttr,showHideButton.moodle={hideLabel:hideText,showLabel:showText},YAHOO.util.Event.addListener(showHideButton,"click",showAdvancedOnClick),el=document.getElementById(addBefore),el.parentNode.insertBefore(showHideButton,el)}function showAdvancedOnClick(e){var button=e.target?e.target:e.srcElement,toSet=findChildNodes(button.form,null,"advanced"),buttontext="";button.form.elements["mform_showadvanced_last"].value=="0"||button.form.elements["mform_showadvanced_last"].value==""?(elementShowAdvanced(toSet,!0),buttontext=button.moodle.hideLabel,button.form.elements.mform_showadvanced_last.value="1"):(elementShowAdvanced(toSet,!1),buttontext=button.moodle.showLabel,button.form.elements.mform_showadvanced_last.value="0");var formelements=button.form.elements;for(var i=0;i<formelements.length;i++)formelements[i]&&formelements[i].name&&formelements[i].name=="mform_showadvanced"&&(formelements[i].value=buttontext);return!1}function unmaskPassword(id){var pw=document.getElementById(id),chb=document.getElementById(id+"unmask");try{if(chb.checked)var newpw=document.createElement('<input type="text" autocomplete="off" name="'+pw.name+'">');else var newpw=document.createElement('<input type="password" autocomplete="off" name="'+pw.name+'">');newpw.attributes["class"].nodeValue=pw.attributes["class"].nodeValue}catch(e){var newpw=document.createElement("input");newpw.setAttribute("autocomplete","off"),newpw.setAttribute("name",pw.name),chb.checked?newpw.setAttribute("type","text"):newpw.setAttribute("type","password"),newpw.setAttribute("class",pw.getAttribute("class"))}newpw.id=pw.id,newpw.size=pw.size,newpw.onblur=pw.onblur,newpw.onchange=pw.onchange,newpw.value=pw.value,pw.parentNode.replaceChild(newpw,pw)}function elementToggleHide(el,persistent,elementFinder,strShow,strHide){if(!elementFinder){var obj=el;el=document.getElementById("togglehide_"+obj.id)}else var obj=elementFinder(el);if(obj.className.indexOf("hidden")==-1){obj.className+=" hidden",el.src&&(el.src=el.src.replace("switch_minus","switch_plus"),el.alt=strShow,el.title=strShow);var shown=0}else{obj.className=obj.className.replace(new RegExp(" ?hidden"),""),el.src&&(el.src=el.src.replace("switch_plus","switch_minus"),el.alt=strHide,el.title=strHide);var shown=1}persistent==1&&(new cookie("hide:"+obj.id,1,shown?-1:356,"/")).set()}function elementCookieHide(id,strShow,strHide){var obj=document.getElementById(id),cook=(new cookie("hide:"+id)).read();cook!=null&&elementToggleHide(obj,!1,null,strShow,strHide)}function filterByParent(elCollection,parentFinder){var filteredCollection=[];for(var i=0;i<elCollection.length;++i){var findParent=parentFinder(elCollection[i]);findParent.nodeName!="BODY"&&filteredCollection.push(elCollection[i])}return filteredCollection}function fix_column_widths(){var agt=navigator.userAgent.toLowerCase();agt.indexOf("msie")!=-1&&agt.indexOf("opera")==-1&&(fix_column_width("left-column"),fix_column_width("right-column"))}function fix_column_width(colName){if(column=document.getElementById(colName)){if(!column.offsetWidth){setTimeout("fix_column_width('"+colName+"')",20);return}var width=0,nodes=column.childNodes;for(i=0;i<nodes.length;++i)nodes[i].className.indexOf("sideblock")!=-1&&width<nodes[i].offsetWidth&&(width=nodes[i].offsetWidth);for(i=0;i<nodes.length;++i)nodes[i].className.indexOf("sideblock")!=-1&&(nodes[i].style.width=width+"px")}}function insertAtCursor(myField,myValue){if(document.selection)myField.focus(),sel=document.selection.createRange(),sel.text=myValue;else if(myField.selectionStart||myField.selectionStart=="0"){var startPos=myField.selectionStart,endPos=myField.selectionEnd;myField.value=myField.value.substring(0,startPos)+myValue+myField.value.substring(endPos,myField.value.length)}else myField.value+=myValue}function addonload(fn){var oldhandler=window.onload;window.onload=function(){oldhandler&&oldhandler(),fn()}}function addBookmark(){window.sidebar?document.getElementById("bookmark").innerHTML="Bookmark Page":window.opera&&window.print?document.getElementById("bookmark").innerHTML="Add Bookmark":window.external&&(document.getElementById("bookmark").innerHTML="Add to Favorites")}function CreateBookmarkLink(){var url=window.location,title=document.title;if(window.sidebar)window.sidebar.addPanel(title,url,"");else if(window.opera&&window.print){var elem=document.createElement("a");elem.setAttribute("href",url),elem.setAttribute("title",title),elem.setAttribute("rel","sidebar"),elem.click()}else window.external&&window.external.AddFavorite(url,title)}function unit_summary_show(counter,all_divs){if(all_divs)var summery_trimmed=new getObj("summery_trimmed_"+counter),summery=new getObj("summery_"+counter);var collapse=new getObj("collapse_"+counter),expand=new getObj("expand_"+counter);all_divs&&(summery_trimmed.style.display="none",summery.style.display=""),collapse.style.display="",expand.style.display="none"}function unit_summary_hide(counter,all_divs){if(all_divs)var summery_trimmed=new getObj("summery_trimmed_"+counter),summery=new getObj("summery_"+counter);var collapse=new getObj("collapse_"+counter),expand=new getObj("expand_"+counter);all_divs&&(summery_trimmed.style.display="",summery.style.display="none"),collapse.style.display="none",expand.style.display=""}function getObj(name){document.getElementById?document.getElementById(name)&&(this.obj=document.getElementById(name),this.style=document.getElementById(name).style):document.all?document.all[name]&&(this.obj=document.all[name],this.style=document.all[name].style):document.layers&&getObjNN4(document,name)&&(this.obj=getObjNN4(document,name),this.style=this.obj)}function getObjNN4(obj,name){var x=obj.layers,thereturn;for(var i=0;i<x.length;i++){if(x[i].id==name)thereturn=x[i];else if(x[i].layers.length)var tmp=getObjNN4(x[i],name);tmp&&(thereturn=tmp)}return thereturn}function elementToggleHideAll(el,classname){var obj=findParentNode(el,"DIV",classname).parentNode,divs=obj.getElementsByTagName("div"),exp="(^|\\s)"+classname+"(\\s|$)",re=new RegExp(exp);for(var i=0;i<divs.length;i++)if(divs[i].className.search(re)>-1&&divs[i].className.indexOf("hidden")==-1){var inputs=divs[i].getElementsByTagName("input");for(var x=0;x<inputs.length;x++)inputs[x].className.indexOf("togglecard")>-1&&inputs[x].id!=el.id&&inputs[x].click()}}